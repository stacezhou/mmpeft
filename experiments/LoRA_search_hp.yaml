search_space:
  train_dataloader.dataset.data_root:
    _type: choice
    _value: 
      - data/dtd/images/fewshot_train16_A
      # - data/dtd/images/fewshot_train16_B
      # - data/dtd/images/fewshot_train16_C
      # - data/dtd/images/fewshot_train1_A
      # - data/dtd/images/fewshot_train1_B
      # - data/dtd/images/fewshot_train1_C
      # - data/dtd/images/fewshot_train4_A
      # - data/dtd/images/fewshot_train4_B
      # - data/dtd/images/fewshot_train4_C
      # - data/dtd/images/train

  randomness.seed:
    _type: choice
    _value: 
      - 1
      # - 10
      # - 100

  optim_wrapper.optimizer.lr:
    _type: choice
    _value: 
      - 1e-6 
      - 1e-5
      - 1e-4
      - 1e-3

  train_dataloader.batch_size:
    _type: choice
    _value: 
      - 32 
      - 128
      - 256

  work_dirs:
    _type: choice
    _value:
      - work_dirs/clip_vit_b32_full_finetune_search_hp

trial_command: >
  python tools/train.py myconfigs/clip_vit_b32.py 
  --cfg-options 
  load_from=data/clip-ViT-B-32.pth 
  default_hooks.checkpoint.interval=-1 
  default_hooks.checkpoint.save_last=False 

trial_code_directory: /home/zh21/mmpretrain
trial_gpu_number: 1
trial_concurrency: 4

tuner:
  name: GridSearch
  class_args:
    optimize_mode: maximize

training_service:
  platform: local
  gpuIndices: [0,1,2,3]
  use_active_gpu: false